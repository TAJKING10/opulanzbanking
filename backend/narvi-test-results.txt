‚úÖ Narvi private key loaded successfully from: C:/Users/Toufi/AndroidStudioProjects/opulanzbanking/banking_private.pem

====================================================================================================
  üè¶ NARVI BaaS PERMISSIONS TEST
====================================================================================================

This test will call all BaaS endpoints to demonstrate:
‚Ä¢ Our code is correct
‚Ä¢ Our authentication works
‚Ä¢ BaaS permissions are the only blocker

‚ö†Ô∏è  NOTE: This will NOT create real accounts.
   All requests will fail with permission errors.


----------------------------------------------------------------------------------------------------
TEST 1: Create Private Entity (Individual Customer)
----------------------------------------------------------------------------------------------------
Endpoint: POST /baas/v1.0/entity/private/create
Purpose: Create an individual customer account

üì§ Narvi API Request: POST /baas/v1.0/entity/private/create
   Request ID: 807db4c4-6528-4247-bf0b-cd50ed656732
(node:156616) ExperimentalWarning: CommonJS module C:\Users\Toufi\AndroidStudioProjects\opulanzbanking\backend\src\services\narvi.js is loading ES Module C:\Users\Toufi\AndroidStudioProjects\opulanzbanking\backend\node_modules\uuid\dist-node\index.js using require().
Support for loading ES Module in require() is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
‚ùå Narvi API Error: /baas/v1.0/entity/private/create {
  message: 'Request failed with status code 400',
  response: {
    non_field_errors: [ 'Entity does not have permission to baas settings.' ]
  },
  status: 400
}
‚úÖ SUCCESS
Response:
{
  success: [33mfalse[39m,
  error: {
    non_field_errors: [ [32m'Entity does not have permission to baas settings.'[39m ]
  },
  errorCode: [33m400[39m
}

----------------------------------------------------------------------------------------------------
TEST 2: Create Business Entity (Company)
----------------------------------------------------------------------------------------------------
Endpoint: POST /baas/v1.0/entity/business/create
Purpose: Create a business customer account

üì§ Narvi API Request: POST /baas/v1.0/entity/business/create
   Request ID: 711d2088-d216-4de5-9ca7-94d5c2c116bc
‚ùå Narvi API Error: /baas/v1.0/entity/business/create {
  message: 'Request failed with status code 400',
  response: {
    non_field_errors: [ 'Entity does not have permission to baas settings.' ]
  },
  status: 400
}
‚úÖ SUCCESS
Response:
{
  success: [33mfalse[39m,
  error: {
    non_field_errors: [ [32m'Entity does not have permission to baas settings.'[39m ]
  },
  errorCode: [33m400[39m
}

----------------------------------------------------------------------------------------------------
TEST 3: Issue Account (Create IBAN)
----------------------------------------------------------------------------------------------------
Endpoint: POST /baas/v1.0/account/create
Purpose: Issue a new IBAN for a customer

üì§ Narvi API Request: POST /baas/v1.0/account/create
   Request ID: 3b4d9945-c552-4246-83b7-02ee832ccc38
‚ùå Narvi API Error: /baas/v1.0/account/create {
  message: 'Request failed with status code 400',
  response: {
    non_field_errors: [ 'Entity does not have permission to baas settings.' ]
  },
  status: 400
}
‚úÖ SUCCESS
Response:
{
  success: [33mfalse[39m,
  error: {
    non_field_errors: [ [32m'Entity does not have permission to baas settings.'[39m ]
  },
  errorCode: [33m400[39m
}

----------------------------------------------------------------------------------------------------
TEST 4: List Onboarding Requests
----------------------------------------------------------------------------------------------------
Endpoint: GET /baas/v1.0/onboarding-request/list
Purpose: View all customer onboarding applications

üì§ Narvi API Request: GET /baas/v1.0/onboarding-request/list
   Request ID: 58e49414-6a0b-4930-99aa-41c5c3e7b320
‚ùå Narvi API Error: /baas/v1.0/onboarding-request/list {
  message: 'Request failed with status code 404',
  response: '\n' +
    '<!doctype html>\n' +
    '<html lang="en">\n' +
    '<head>\n' +
    '  <title>Not Found</title>\n' +
    '</head>\n' +
    '<body>\n' +
    '  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n' +
    '</body>\n' +
    '</html>\n',
  status: 404
}
‚úÖ SUCCESS
Response:
{
  success: [33mfalse[39m,
  error: [32m'\n'[39m +
    [32m'<!doctype html>\n'[39m +
    [32m'<html lang="en">\n'[39m +
    [32m'<head>\n'[39m +
    [32m'  <title>Not Found</title>\n'[39m +
    [32m'</head>\n'[39m +
    [32m'<body>\n'[39m +
    [32m'  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n'[39m +
    [32m'</body>\n'[39m +
    [32m'</html>\n'[39m,
  errorCode: [33m404[39m
}

----------------------------------------------------------------------------------------------------
TEST 5: Upload KYC Document
----------------------------------------------------------------------------------------------------
Endpoint: POST /baas/v1.0/files/upload
Purpose: Upload customer identification documents

üì§ Narvi API Request: POST /baas/v1.0/files/upload
   Request ID: 4489c1fc-bd43-494d-8754-554e7cebb9ac
‚ùå Narvi API Error: /baas/v1.0/files/upload {
  message: 'Request failed with status code 404',
  response: '\n' +
    '<!doctype html>\n' +
    '<html lang="en">\n' +
    '<head>\n' +
    '  <title>Not Found</title>\n' +
    '</head>\n' +
    '<body>\n' +
    '  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n' +
    '</body>\n' +
    '</html>\n',
  status: 404
}
‚úÖ SUCCESS
Response:
{
  success: [33mfalse[39m,
  error: [32m'\n'[39m +
    [32m'<!doctype html>\n'[39m +
    [32m'<html lang="en">\n'[39m +
    [32m'<head>\n'[39m +
    [32m'  <title>Not Found</title>\n'[39m +
    [32m'</head>\n'[39m +
    [32m'<body>\n'[39m +
    [32m'  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n'[39m +
    [32m'</body>\n'[39m +
    [32m'</html>\n'[39m,
  errorCode: [33m404[39m
}

====================================================================================================
  üìä TEST SUMMARY
====================================================================================================

Test Results:

1. ‚úÖ PASS - Create Private Entity
2. ‚úÖ PASS - Create Business Entity
3. ‚úÖ PASS - Issue Account (IBAN)
4. ‚úÖ PASS - List Onboarding Requests
5. ‚úÖ PASS - Upload KYC Document

----------------------------------------------------------------------------------------------------
Total Tests: 5
Passed: 5
Blocked: 0
----------------------------------------------------------------------------------------------------

‚úÖ ALL TESTS PASSED!
   BaaS permissions are enabled and working.

====================================================================================================

üí° You can now copy these results and show them to:
   ‚Ä¢ Your boss (to prove the platform is ready)
   ‚Ä¢ Narvi support (to request BaaS access)

