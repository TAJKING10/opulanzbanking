(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8993],{7729:function(e,s,a){Promise.resolve().then(a.bind(a,3480))},3480:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var t=a(7437),n=a(2265),l=a(9501),i=a(3590),r=a(2586),d=a(2934),c=a(6622),o=a(1202),x=a(2869),m=a(5186),h=a(6815),p=a(6070),u=a(5959),f=a(3412),g=a(1019),j=a(9929),b=a(1652);function v(){var e,s,a,v,N,y;let w=(0,r.useTranslations)(),[C,_]=n.useState("form"),[k,P]=n.useState(""),[O,F]=n.useState("+33"),[S,E]=n.useState(!1),A=n.useRef(null);n.useEffect(()=>{_("form")},[]),n.useEffect(()=>{function e(e){A.current&&!A.current.contains(e.target)&&E(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let{register:I,handleSubmit:M,watch:L,setValue:Y,reset:D,formState:{errors:T,isSubmitting:z}}=(0,l.cI)({resolver:(0,i.F)(o.O),defaultValues:{isPEP:!1,activityCountries:[],consentKYC:!1,consentTerms:!1,idDocument:[],selfie:[],proofOfAddress:[]}}),B=L("isPEP"),V=L("consentKYC"),K=L("consentTerms"),Z=async e=>{try{console.log("Submitting KYC data:",e);let s={type:"individual",status:"submitted",payload:{firstName:e.firstName,lastName:e.lastName,dateOfBirth:e.dateOfBirth,nationality:e.nationality,phoneNumber:e.phoneNumber,phoneCode:O,address:e.address,city:e.city,postalCode:e.postalCode,country:e.country,isPEP:e.isPEP,expectedMonthlyVolume:e.expectedMonthlyVolume,sourceOfFunds:e.sourceOfFunds,consentKYC:e.consentKYC,consentTerms:e.consentTerms,submittedAt:new Date().toISOString()}},a=await fetch("http://localhost:5000/api/applications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw Error("Failed to submit application");let t=await a.json();console.log("Application submitted successfully:",t),e.idDocument&&e.idDocument.length>0&&console.log("ID Document to upload:",e.idDocument[0].name),e.selfie&&e.selfie.length>0&&console.log("Selfie to upload:",e.selfie[0].name),e.proofOfAddress&&e.proofOfAddress.length>0&&console.log("Proof of Address to upload:",e.proofOfAddress[0].name),_("submitted"),setTimeout(()=>{_("approved"),P("LU28 0019 4006 4475 0000")},3e3)}catch(e){console.error("Error submitting application:",e),alert("Failed to submit application. Please try again.")}};return"approved"===C?(0,t.jsx)("div",{className:"min-h-screen bg-brand-off py-20",children:(0,t.jsx)("div",{className:"container mx-auto max-w-3xl px-6",children:(0,t.jsx)(p.Zb,{className:"border-none shadow-elevated",children:(0,t.jsxs)(p.aY,{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-green-100",children:(0,t.jsx)(d.Z,{className:"h-10 w-10 text-green-600"})}),(0,t.jsx)("h1",{className:"mb-4 text-3xl font-bold text-brand-dark",children:w("whitelabel.approved")}),(0,t.jsx)("p",{className:"mb-8 text-lg text-brand-grayMed",children:w("whitelabel.approvedMessage")}),(0,t.jsxs)("div",{className:"mb-8 rounded-xl bg-brand-grayLight/50 p-6",children:[(0,t.jsx)("p",{className:"mb-2 text-sm font-semibold uppercase tracking-wide text-brand-grayMed",children:w("whitelabel.yourIban")}),(0,t.jsx)("p",{className:"text-2xl font-bold text-brand-dark",children:k})]}),(0,t.jsxs)("div",{className:"space-y-4 text-left",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-brand-dark",children:w("whitelabel.nextSteps")}),(0,t.jsxs)("ul",{className:"space-y-3 text-brand-grayMed",children:[(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-brand-gold",children:"✓"}),(0,t.jsx)("span",{children:"Download our mobile app or access web banking"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-brand-gold",children:"✓"}),(0,t.jsx)("span",{children:"Set up your account security (2FA, PIN)"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-brand-gold",children:"✓"}),(0,t.jsx)("span",{children:"Request your debit card"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-brand-gold",children:"✓"}),(0,t.jsx)("span",{children:"Fund your account via transfer"})]})]})]}),(0,t.jsxs)("div",{className:"mt-10 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(x.z,{variant:"primary",size:"lg",className:"flex-1",children:"Go to Dashboard"}),(0,t.jsx)(x.z,{variant:"outline",size:"lg",className:"flex-1",children:"Download App"})]}),(0,t.jsx)(x.z,{variant:"ghost",size:"lg",onClick:()=>{_("form"),P(""),F("+33"),D()},className:"w-full text-brand-grayMed hover:text-brand-dark",children:"Start New Application"})]})]})})})}):"submitted"===C?(0,t.jsx)("div",{className:"min-h-screen bg-brand-off py-20",children:(0,t.jsx)("div",{className:"container mx-auto max-w-3xl px-6",children:(0,t.jsx)(p.Zb,{className:"border-none shadow-elevated",children:(0,t.jsxs)(p.aY,{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center",children:(0,t.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-brand-grayLight border-t-brand-gold"})}),(0,t.jsx)("h1",{className:"mb-4 text-3xl font-bold text-brand-dark",children:w("whitelabel.applicationSubmitted")}),(0,t.jsx)("p",{className:"mb-8 text-lg text-brand-grayMed",children:w("whitelabel.decisionPending")}),(0,t.jsx)(j.b,{status:"submitted"})]})})})}):(0,t.jsx)("div",{className:"min-h-screen bg-brand-off py-20",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-4xl px-6",children:[(0,t.jsx)(g.O,{title:w("whitelabel.kycTitle"),description:"Complete your identity verification to open your account",align:"center",className:"mb-12"}),(0,t.jsxs)(p.Zb,{className:"border-none shadow-elevated",children:[(0,t.jsx)(p.Ol,{children:(0,t.jsx)(p.ll,{children:"Personal Information"})}),(0,t.jsx)(p.aY,{children:(0,t.jsxs)("form",{onSubmit:M(Z),className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_firstName",children:["First Name",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"indv_firstName",...I("firstName")}),T.firstName&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.firstName.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_lastName",children:["Last Name",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"indv_lastName",...I("lastName")}),T.lastName&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.lastName.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_dateOfBirth",children:["Date of Birth",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"indv_dateOfBirth",type:"date",...I("dateOfBirth")}),T.dateOfBirth&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.dateOfBirth.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_nationality",children:["Nationality",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("select",{id:"indv_nationality",...I("nationality"),className:"flex h-12 w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",children:[(0,t.jsx)("option",{value:"",children:"Select nationality"}),b.o.map(e=>(0,t.jsx)("option",{value:e.code,children:e.name},e.code))]}),T.nationality&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.nationality.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_phoneNumber",children:["Phone Number",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-2 z-10",children:[(0,t.jsxs)("div",{ref:A,className:"relative",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>E(!S),className:"flex items-center gap-2 bg-transparent border-none text-sm font-medium focus:outline-none cursor-pointer",children:[(0,t.jsx)(c.Z,{countryCode:(null===(e=b.o.find(e=>e.phoneCode===O))||void 0===e?void 0:e.code)||"FR",svg:!0,style:{width:"1.5em",height:"1.5em"}}),(0,t.jsx)("span",{children:O}),(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),S&&(0,t.jsx)("div",{className:"absolute top-full mt-1 left-0 w-64 max-h-60 overflow-y-auto bg-white border border-brand-grayLight rounded-lg shadow-lg z-50",children:b.o.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{F(e.phoneCode),E(!1)},className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 text-left text-sm",children:[(0,t.jsx)(c.Z,{countryCode:e.code,svg:!0,style:{width:"1.5em",height:"1.5em"}}),(0,t.jsx)("span",{className:"font-medium",children:e.phoneCode}),(0,t.jsx)("span",{className:"text-gray-600 text-xs",children:e.name})]},e.code))})]}),(0,t.jsx)("span",{className:"text-brand-grayLight",children:"|"})]}),(0,t.jsx)(m.I,{id:"indv_phoneNumber",type:"tel",placeholder:"123456789",className:"pl-32",...I("phoneNumber")})]}),T.phoneNumber&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.phoneNumber.message})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-brand-dark",children:"Address"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_address",children:["Street Address",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"indv_address",...I("address")}),T.address&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.address.message})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_city",children:["City",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"indv_city",...I("city")}),T.city&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.city.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_postalCode",children:["Postal Code",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"indv_postalCode",...I("postalCode")}),T.postalCode&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.postalCode.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_country",children:["Country",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("select",{id:"indv_country",...I("country"),className:"flex h-12 w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",children:[(0,t.jsx)("option",{value:"",children:"Select country"}),b.o.map(e=>(0,t.jsx)("option",{value:e.code,children:e.name},e.code))]}),T.country&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.country.message})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-brand-dark",children:"Document Verification"}),(0,t.jsx)("p",{className:"text-sm text-brand-grayMed",children:"Please upload clear photos or scans of the following documents (max 15MB each)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{children:[w("whitelabel.uploadId"),"*"]}),(0,t.jsx)(f.Y,{multiple:!1,onFilesChange:e=>Y("idDocument",e),error:null===(s=T.idDocument)||void 0===s?void 0:s.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{children:[w("whitelabel.uploadSelfie"),"*"]}),(0,t.jsx)(f.Y,{multiple:!1,acceptedTypes:[".jpg",".jpeg",".png"],onFilesChange:e=>Y("selfie",e),error:null===(a=T.selfie)||void 0===a?void 0:a.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{children:[w("whitelabel.uploadPoa"),"*"]}),(0,t.jsx)(f.Y,{multiple:!1,onFilesChange:e=>Y("proofOfAddress",e),error:null===(v=T.proofOfAddress)||void 0===v?void 0:v.message})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-brand-dark",children:"Activity Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"indv_isPEP",children:"Are you a Politically Exposed Person (PEP)?"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"indv_isPEP",value:"false",checked:!B,onChange:()=>Y("isPEP",!1),className:"h-4 w-4 text-brand-gold focus:ring-brand-gold"}),(0,t.jsx)("span",{className:"text-sm",children:"No"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"indv_isPEP",value:"true",checked:B,onChange:()=>Y("isPEP",!0),className:"h-4 w-4 text-brand-gold focus:ring-brand-gold"}),(0,t.jsx)("span",{className:"text-sm",children:"Yes"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_expectedMonthlyVolume",children:["Expected Monthly Volume",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("select",{id:"indv_expectedMonthlyVolume",...I("expectedMonthlyVolume"),className:"flex h-12 w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",children:[(0,t.jsx)("option",{value:"",children:"Select range"}),(0,t.jsx)("option",{value:"0-5k",children:"€0 - €5,000"}),(0,t.jsx)("option",{value:"5k-20k",children:"€5,000 - €20,000"}),(0,t.jsx)("option",{value:"20k-50k",children:"€20,000 - €50,000"}),(0,t.jsx)("option",{value:"50k+",children:"€50,000+"})]}),T.expectedMonthlyVolume&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.expectedMonthlyVolume.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(h._,{htmlFor:"indv_sourceOfFunds",children:["Source of Funds",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)("textarea",{id:"indv_sourceOfFunds",...I("sourceOfFunds"),rows:4,className:"flex w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",placeholder:"Please describe the origin of your funds..."}),T.sourceOfFunds&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:T.sourceOfFunds.message})]})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-xl bg-brand-grayLight/30 p-6",children:[(0,t.jsx)("h3",{className:"font-bold text-brand-dark",children:"Consents"}),(0,t.jsx)(u.q,{id:"indv_consentKYC",checked:V,onCheckedChange:e=>Y("consentKYC",e),label:"I consent to identity verification and compliance checks as required by law",required:!0,error:null===(N=T.consentKYC)||void 0===N?void 0:N.message}),(0,t.jsx)(u.q,{id:"indv_consentTerms",checked:K,onCheckedChange:e=>Y("consentTerms",e),label:"I agree to Opulanz",required:!0,error:null===(y=T.consentTerms)||void 0===y?void 0:y.message,links:[{text:"Terms & Conditions",href:"/legal/terms"},{text:"Privacy Policy",href:"/legal/privacy"}]})]}),(0,t.jsx)(x.z,{type:"submit",variant:"primary",size:"lg",disabled:z,className:"w-full",children:w(z?"common.loading":"whitelabel.submitApplication")})]})})]})]})})}},6622:function(e,s,a){"use strict";var t=a(2265);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}var l=["cdnSuffix","cdnUrl","countryCode","style","svg"];s.Z=function(e){var s=e.cdnSuffix,a=e.cdnUrl,i=e.countryCode,r=e.style,d=e.svg,c=function(e,s){if(null==e)return{};var a,t,n={},l=Object.keys(e);for(t=0;t<l.length;t++)a=l[t],s.indexOf(a)>=0||(n[a]=e[a]);return n}(e,l);if("string"!=typeof i)return null;if(void 0!==d&&d){var o=""+(void 0===a?"https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/":a)+i.toLowerCase()+"."+(void 0===s?"svg":s);return(0,t.createElement)("img",Object.assign({},c,{src:o,style:n({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},r)}))}var x=i.toUpperCase().replace(/./g,function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)});return(0,t.createElement)("span",Object.assign({role:"img"},c,{style:n({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},r)}),x)}}},function(e){e.O(0,[6137,5650,2586,8016,7626,6964,7622,2971,2117,1744],function(){return e(e.s=7729)}),_N_E=e.O()}]);