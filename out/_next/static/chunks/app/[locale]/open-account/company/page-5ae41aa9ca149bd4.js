(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2361],{6875:function(e,s,a){Promise.resolve().then(a.bind(a,2882))},2882:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return j}});var t=a(7437),n=a(2265),i=a(9501),l=a(3590),r=a(2586),o=a(2934),c=a(1202),d=a(2869),m=a(5186),x=a(6815),p=a(6070),h=a(5959),u=a(3412),y=a(1019),b=a(9929),g=a(1652);function j(){var e,s,a,j,N;let v=(0,r.useTranslations)(),[f,C]=n.useState("form"),[w,_]=n.useState("");n.useEffect(()=>{C("form")},[]);let{register:S,handleSubmit:A,setValue:k,reset:F,formState:{errors:O,isSubmitting:I}}=(0,i.cI)({resolver:(0,l.F)(c.D),defaultValues:{activityCountries:[],consentKYB:!1,consentTerms:!1,statutes:[],registerExtract:[],uboDeclaration:[]}}),E=async e=>{try{console.log("Submitting KYB data:",e);let s={type:"company",status:"submitted",payload:{companyName:e.companyName,registrationNumber:e.registrationNumber,dateOfIncorporation:e.dateOfIncorporation,legalForm:e.legalForm,companyAddress:e.companyAddress,companyCity:e.companyCity,companyPostalCode:e.companyPostalCode,companyCountry:e.companyCountry,businessActivity:e.businessActivity,activityCountries:e.activityCountries,expectedMonthlyVolume:e.expectedMonthlyVolume,consentKYB:e.consentKYB,consentTerms:e.consentTerms,submittedAt:new Date().toISOString()}},a=await fetch("http://localhost:5000/api/applications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw Error("Failed to submit application");let t=await a.json();console.log("Application submitted successfully:",t);let n={name:e.companyName,registration_number:e.registrationNumber,country:e.companyCountry,legal_form:e.legalForm,incorporation_date:e.dateOfIncorporation,registered_address:{street:e.companyAddress,city:e.companyCity,zip:e.companyPostalCode,country:e.companyCountry}},i=await fetch("http://localhost:5000/api/companies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(i.ok){let e=await i.json();console.log("Company record created:",e)}else console.warn("Failed to create company record, but application was saved");e.statutes&&e.statutes.length>0&&console.log("Statutes to upload:",e.statutes[0].name),e.registerExtract&&e.registerExtract.length>0&&console.log("Register Extract to upload:",e.registerExtract[0].name),e.uboDeclaration&&e.uboDeclaration.length>0&&console.log("UBO Declaration to upload:",e.uboDeclaration[0].name),C("submitted"),setTimeout(()=>{C("approved"),_("LU28 0019 4006 4475 0001")},3e3)}catch(e){console.error("Error submitting application:",e),alert("Failed to submit application. Please try again.")}};return"approved"===f?(0,t.jsx)("div",{className:"min-h-screen bg-brand-off py-20",children:(0,t.jsx)("div",{className:"container mx-auto max-w-3xl px-6",children:(0,t.jsx)(p.Zb,{className:"border-none shadow-elevated",children:(0,t.jsxs)(p.aY,{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-green-100",children:(0,t.jsx)(o.Z,{className:"h-10 w-10 text-green-600"})}),(0,t.jsx)("h1",{className:"mb-4 text-3xl font-bold text-brand-dark",children:v("whitelabel.approved")}),(0,t.jsx)("p",{className:"mb-8 text-lg text-brand-grayMed",children:"Your business account has been successfully approved!"}),(0,t.jsxs)("div",{className:"mb-8 rounded-xl bg-brand-grayLight/50 p-6",children:[(0,t.jsx)("p",{className:"mb-2 text-sm font-semibold uppercase tracking-wide text-brand-grayMed",children:v("whitelabel.yourIban")}),(0,t.jsx)("p",{className:"text-2xl font-bold text-brand-dark",children:w})]}),(0,t.jsxs)("div",{className:"space-y-4 text-left",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-brand-dark",children:v("whitelabel.nextSteps")}),(0,t.jsxs)("ul",{className:"space-y-3 text-brand-grayMed",children:[(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-brand-gold",children:"✓"}),(0,t.jsx)("span",{children:"Set up multi-user access for your team"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-brand-gold",children:"✓"}),(0,t.jsx)("span",{children:"Configure accounting integration"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-brand-gold",children:"✓"}),(0,t.jsx)("span",{children:"Order corporate debit cards"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-brand-gold",children:"✓"}),(0,t.jsx)("span",{children:"Fund your account via transfer"})]})]})]}),(0,t.jsxs)("div",{className:"mt-10 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(d.z,{variant:"primary",size:"lg",className:"flex-1",children:"Go to Dashboard"}),(0,t.jsx)(d.z,{variant:"outline",size:"lg",className:"flex-1",children:"Download App"})]}),(0,t.jsx)(d.z,{variant:"ghost",size:"lg",onClick:()=>{C("form"),_(""),F()},className:"w-full text-brand-grayMed hover:text-brand-dark",children:"Start New Application"})]})]})})})}):"submitted"===f?(0,t.jsx)("div",{className:"min-h-screen bg-brand-off py-20",children:(0,t.jsx)("div",{className:"container mx-auto max-w-3xl px-6",children:(0,t.jsx)(p.Zb,{className:"border-none shadow-elevated",children:(0,t.jsxs)(p.aY,{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center",children:(0,t.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-brand-grayLight border-t-brand-gold"})}),(0,t.jsx)("h1",{className:"mb-4 text-3xl font-bold text-brand-dark",children:v("whitelabel.applicationSubmitted")}),(0,t.jsx)("p",{className:"mb-8 text-lg text-brand-grayMed",children:"Your business account application is being reviewed. You will receive a decision within 2-3 business days."}),(0,t.jsx)(b.b,{status:"submitted"})]})})})}):(0,t.jsx)("div",{className:"min-h-screen bg-brand-off py-20",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-4xl px-6",children:[(0,t.jsx)(y.O,{title:v("whitelabel.kybTitle"),description:"Complete your business verification to open your company account",align:"center",className:"mb-12"}),(0,t.jsxs)(p.Zb,{className:"border-none shadow-elevated",children:[(0,t.jsx)(p.Ol,{children:(0,t.jsx)(p.ll,{children:"Company Information"})}),(0,t.jsx)(p.aY,{children:(0,t.jsxs)("form",{onSubmit:A(E),className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_companyName",children:["Company Name",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"comp_companyName",...S("companyName")}),O.companyName&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.companyName.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_registrationNumber",children:["Registration Number",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"comp_registrationNumber",...S("registrationNumber")}),O.registrationNumber&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.registrationNumber.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_dateOfIncorporation",children:["Date of Incorporation",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"comp_dateOfIncorporation",type:"date",...S("dateOfIncorporation")}),O.dateOfIncorporation&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.dateOfIncorporation.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_legalForm",children:["Legal Form",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("select",{id:"comp_legalForm",...S("legalForm"),className:"flex h-12 w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",children:[(0,t.jsx)("option",{value:"",children:"Select legal form"}),(0,t.jsx)("option",{value:"SARL",children:"SARL - Soci\xe9t\xe9 \xe0 Responsabilit\xe9 Limit\xe9e"}),(0,t.jsx)("option",{value:"SA",children:"SA - Soci\xe9t\xe9 Anonyme"}),(0,t.jsx)("option",{value:"SAS",children:"SAS - Soci\xe9t\xe9 par Actions Simplifi\xe9e"}),(0,t.jsx)("option",{value:"EURL",children:"EURL - Entreprise Unipersonnelle \xe0 Responsabilit\xe9 Limit\xe9e"}),(0,t.jsx)("option",{value:"SCSp",children:"SCSp - Soci\xe9t\xe9 en Commandite Sp\xe9ciale"}),(0,t.jsx)("option",{value:"OTHER",children:"Other"})]}),O.legalForm&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.legalForm.message})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-brand-dark",children:"Company Address"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_companyAddress",children:["Street Address",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"comp_companyAddress",...S("companyAddress")}),O.companyAddress&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.companyAddress.message})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_companyCity",children:["City",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"comp_companyCity",...S("companyCity")}),O.companyCity&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.companyCity.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_companyPostalCode",children:["Postal Code",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.I,{id:"comp_companyPostalCode",...S("companyPostalCode")}),O.companyPostalCode&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.companyPostalCode.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_companyCountry",children:["Country",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("select",{id:"comp_companyCountry",...S("companyCountry"),className:"flex h-12 w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",children:[(0,t.jsx)("option",{value:"",children:"Select country"}),g.o.map(e=>(0,t.jsx)("option",{value:e.code,children:e.name},e.code))]}),O.companyCountry&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.companyCountry.message})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-brand-dark",children:"Company Documents"}),(0,t.jsx)("p",{className:"text-sm text-brand-grayMed",children:"Please upload clear copies of the following documents (max 15MB each)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{children:[v("whitelabel.uploadStatutes"),"*"]}),(0,t.jsx)(u.Y,{multiple:!1,onFilesChange:e=>k("statutes",e),error:null===(e=O.statutes)||void 0===e?void 0:e.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{children:[v("whitelabel.uploadRegister"),"*"]}),(0,t.jsx)(u.Y,{multiple:!1,onFilesChange:e=>k("registerExtract",e),error:null===(s=O.registerExtract)||void 0===s?void 0:s.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{children:[v("whitelabel.uploadUbo"),"*"]}),(0,t.jsx)(u.Y,{multiple:!1,onFilesChange:e=>k("uboDeclaration",e),error:null===(a=O.uboDeclaration)||void 0===a?void 0:a.message})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-brand-dark",children:"Business Activity"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_businessActivity",children:["Business Activity Description",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)("textarea",{id:"comp_businessActivity",...S("businessActivity"),rows:4,className:"flex w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",placeholder:"Describe your main business activities..."}),O.businessActivity&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.businessActivity.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_activityCountries",children:["Countries of Activity",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)("select",{id:"comp_activityCountries",...S("activityCountries"),multiple:!0,size:5,className:"flex w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",children:g.o.map(e=>(0,t.jsx)("option",{value:e.code,children:e.name},e.code))}),(0,t.jsx)("p",{className:"text-xs text-brand-grayMed",children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple countries"}),O.activityCountries&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.activityCountries.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"comp_expectedMonthlyVolume",children:["Expected Monthly Transaction Volume",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("select",{id:"comp_expectedMonthlyVolume",...S("expectedMonthlyVolume"),className:"flex h-12 w-full rounded-xl border border-brand-grayLight bg-white px-4 py-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-gold",children:[(0,t.jsx)("option",{value:"",children:"Select range"}),(0,t.jsx)("option",{value:"0-10k",children:"€0 - €10,000"}),(0,t.jsx)("option",{value:"10k-50k",children:"€10,000 - €50,000"}),(0,t.jsx)("option",{value:"50k-100k",children:"€50,000 - €100,000"}),(0,t.jsx)("option",{value:"100k-500k",children:"€100,000 - €500,000"}),(0,t.jsx)("option",{value:"500k+",children:"€500,000+"})]}),O.expectedMonthlyVolume&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:O.expectedMonthlyVolume.message})]})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-xl bg-brand-grayLight/30 p-6",children:[(0,t.jsx)("h3",{className:"font-bold text-brand-dark",children:"Consents"}),(0,t.jsx)(h.q,{id:"comp_consentKYB",checked:!1,onCheckedChange:e=>k("consentKYB",e),label:"I consent to business verification and compliance checks as required by law",required:!0,error:null===(j=O.consentKYB)||void 0===j?void 0:j.message}),(0,t.jsx)(h.q,{id:"comp_consentTerms",checked:!1,onCheckedChange:e=>k("consentTerms",e),label:"I agree to Opulanz",required:!0,error:null===(N=O.consentTerms)||void 0===N?void 0:N.message,links:[{text:"Terms & Conditions",href:"/legal/terms"},{text:"Privacy Policy",href:"/legal/privacy"}]})]}),(0,t.jsx)(d.z,{type:"submit",variant:"primary",size:"lg",disabled:I,className:"w-full",children:v(I?"common.loading":"whitelabel.submitApplication")})]})})]})]})})}}},function(e){e.O(0,[6137,5650,2586,8016,7626,6964,7622,2971,2117,1744],function(){return e(e.s=6875)}),_N_E=e.O()}]);